<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>í˜ì´ì§€ë„¤ì´ì…˜ í…ŒìŠ¤íŠ¸ ë„êµ¬</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .container {
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    h1 {
      color: #333;
      margin-bottom: 10px;
    }
    .subtitle {
      color: #666;
      margin-bottom: 30px;
    }
    .test-section {
      margin: 20px 0;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
    }
    button {
      background: #4CAF50;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      margin: 5px;
      transition: background 0.3s;
    }
    button:hover {
      background: #45a049;
    }
    button.secondary {
      background: #2196F3;
    }
    button.secondary:hover {
      background: #0b7dda;
    }
    button.danger {
      background: #f44336;
    }
    button.danger:hover {
      background: #da190b;
    }
    .result {
      margin-top: 20px;
      padding: 15px;
      background: #e8f5e9;
      border-left: 4px solid #4CAF50;
      border-radius: 4px;
      display: none;
    }
    .result.show {
      display: block;
    }
    .info {
      background: #e3f2fd;
      border-left: 4px solid #2196F3;
      padding: 15px;
      border-radius: 4px;
      margin: 20px 0;
    }
    .current-count {
      font-size: 18px;
      font-weight: bold;
      color: #333;
      margin: 15px 0;
    }
    code {
      background: #f5f5f5;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Monaco', 'Courier New', monospace;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ“Š í˜ì´ì§€ë„¤ì´ì…˜ í…ŒìŠ¤íŠ¸ ë„êµ¬</h1>
    <p class="subtitle">ì¼ê¸° ê°œìˆ˜ì— ë”°ë¥¸ í˜ì´ì§€ë„¤ì´ì…˜ ë™ì‘ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤</p>

    <div class="info">
      <strong>ğŸ“ í˜ì´ì§€ ê³„ì‚° ê³µì‹:</strong><br>
      í˜ì´ì§€ë‹¹ 12ê°œì”© í‘œì‹œ<br>
      â€¢ 30ê°œ â†’ 3í˜ì´ì§€ (12 + 12 + 6)<br>
      â€¢ 50ê°œ â†’ 5í˜ì´ì§€ (12 Ã— 4 + 2)<br>
      â€¢ 100ê°œ â†’ 9í˜ì´ì§€ (12 Ã— 8 + 4)
    </div>

    <div class="current-count" id="currentCount">
      í˜„ì¬ ì €ì¥ëœ ì¼ê¸°: 0ê°œ
    </div>

    <div class="test-section">
      <h3>ğŸ§ª í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„±</h3>
      <p>ë‹¤ì–‘í•œ ê°œìˆ˜ì˜ í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¥¼ ìƒì„±í•˜ê³  í˜ì´ì§€ë„¤ì´ì…˜ì„ í™•ì¸í•˜ì„¸ìš”.</p>
      
      <button onclick="generateDiaries(30)">30ê°œ ìƒì„± (3í˜ì´ì§€)</button>
      <button onclick="generateDiaries(50)">50ê°œ ìƒì„± (5í˜ì´ì§€)</button>
      <button onclick="generateDiaries(100)">100ê°œ ìƒì„± (9í˜ì´ì§€)</button>
      <button class="secondary" onclick="generateDiaries(120)">120ê°œ ìƒì„± (10í˜ì´ì§€)</button>
      <button class="danger" onclick="clearDiaries()">ì „ì²´ ì‚­ì œ</button>

      <div id="result" class="result"></div>
    </div>

    <div class="test-section">
      <h3>ğŸ” í˜„ì¬ ìƒíƒœ í™•ì¸</h3>
      <button class="secondary" onclick="checkCurrentState()">í˜„ì¬ ë°ì´í„° í™•ì¸</button>
      <button class="secondary" onclick="openDiariesPage()">ì¼ê¸° í˜ì´ì§€ ì—´ê¸°</button>
    </div>

    <div class="info">
      <strong>ğŸ’¡ ì‚¬ìš© ë°©ë²•:</strong><br>
      1. ìœ„ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì›í•˜ëŠ” ê°œìˆ˜ì˜ í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„±<br>
      2. "ì¼ê¸° í˜ì´ì§€ ì—´ê¸°" ë²„íŠ¼ìœ¼ë¡œ /diaries í˜ì´ì§€ ì´ë™<br>
      3. í˜ì´ì§€ë„¤ì´ì…˜ì´ ì˜¬ë°”ë¥´ê²Œ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸<br>
      4. ì´ì „/ë‹¤ìŒ ë²„íŠ¼ìœ¼ë¡œ í˜ì´ì§€ ê·¸ë£¹ ì´ë™ í…ŒìŠ¤íŠ¸
    </div>
  </div>

  <script>
    const emotions = ['Happy', 'Sad', 'Angry', 'Surprise', 'Etc'];
    const titles = [
      'í–‰ë³µí–ˆë˜ í•˜ë£¨', 'ì˜¤ëŠ˜ì˜ ì¼ìƒ', 'ê¸°ì–µí•˜ê³  ì‹¶ì€ ìˆœê°„',
      'ê°ì‚¬í•œ í•˜ë£¨', 'í˜ë“¤ì—ˆë˜ í•˜ë£¨', 'ì¬ë¯¸ìˆì—ˆë˜ ì¼',
      'íŠ¹ë³„í•œ ê²½í—˜', 'í‰ë²”í•œ ì¼ìƒ', 'ì†Œì¤‘í•œ ì¶”ì–µ'
    ];
    const contents = [
      'ì˜¤ëŠ˜ì€ ì •ë§ íŠ¹ë³„í•œ í•˜ë£¨ì˜€ë‹¤. ì•„ì¹¨ë¶€í„° ê¸°ë¶„ì´ ì¢‹ì•„ì„œ í•˜ë£¨ ì¢…ì¼ í™œê¸°ì°¨ê²Œ ë³´ëƒˆë‹¤.',
      'í‰ë²”í•œ í•˜ë£¨ì˜€ì§€ë§Œ ë‚˜ë¦„ëŒ€ë¡œ ì˜ë¯¸ìˆëŠ” ì‹œê°„ì´ì—ˆë‹¤. ìƒˆë¡œìš´ ê²ƒì„ ë°°ìš°ê³  ì„±ì·¨ê°ì„ ëŠê¼ˆë‹¤.',
      'ì˜¤ëŠ˜ì€ ì¡°ê¸ˆ í˜ë“  í•˜ë£¨ì˜€ë‹¤. í•˜ì§€ë§Œ ì´ê²ƒë„ ì§€ë‚˜ê°ˆ ê²ƒì´ë¼ ë¯¿ê³  ê¸ì •ì ìœ¼ë¡œ ìƒê°í•œë‹¤.',
      'ì˜ˆìƒì¹˜ ëª»í•œ ì¼ì´ ì¼ì–´ë‚¬ë‹¤. ì²˜ìŒì—ëŠ” ë‹¹í™©ìŠ¤ëŸ¬ì› ì§€ë§Œ ê²°êµ­ ì¢‹ì€ ê²½í—˜ì´ ë˜ì—ˆë‹¤.',
      'ì˜¤ëŠ˜ì€ ê°€ì¡±ë“¤ê³¼ í•¨ê»˜ ì‹œê°„ì„ ë³´ëƒˆë‹¤. ì˜¤ëœë§Œì— ë‹¤ê°™ì´ ëª¨ì—¬ ì¦ê±°ìš´ ì‹œê°„ì„ ê°€ì¡Œë‹¤.'
    ];

    function generateDiaries(count) {
      const diaries = [];
      
      for (let i = 1; i <= count; i++) {
        const randomEmotion = emotions[Math.floor(Math.random() * emotions.length)];
        const randomTitle = titles[Math.floor(Math.random() * titles.length)];
        const randomContent = contents[Math.floor(Math.random() * contents.length)];
        
        // ìµœê·¼ 6ê°œì›” ë‚´ ëœë¤ ë‚ ì§œ
        const now = new Date();
        const sixMonthsAgo = new Date();
        sixMonthsAgo.setMonth(now.getMonth() - 6);
        const randomDate = new Date(
          sixMonthsAgo.getTime() + Math.random() * (now.getTime() - sixMonthsAgo.getTime())
        );
        
        diaries.push({
          id: i,
          title: `${randomTitle} #${i}`,
          content: randomContent,
          emotion: randomEmotion,
          createdAt: randomDate.toISOString()
        });
      }
      
      // ë‚ ì§œ ìˆœìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)
      diaries.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
      
      // ID ì¬í• ë‹¹
      diaries.forEach((diary, index) => {
        diary.id = index + 1;
      });
      
      // ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
      localStorage.setItem('diaries', JSON.stringify(diaries));
      
      // ê²°ê³¼ í‘œì‹œ
      const expectedPages = Math.ceil(count / 12);
      const resultDiv = document.getElementById('result');
      resultDiv.className = 'result show';
      resultDiv.innerHTML = `
        <strong>âœ… ìƒì„± ì™„ë£Œ!</strong><br>
        â€¢ ìƒì„±ëœ ì¼ê¸°: ${count}ê°œ<br>
        â€¢ ì˜ˆìƒ í˜ì´ì§€ ìˆ˜: ${expectedPages}í˜ì´ì§€<br>
        â€¢ í˜ì´ì§€ë‹¹ ê°œìˆ˜: 12ê°œ<br><br>
        <strong>ğŸ”„ ë‹¤ìŒ ë‹¨ê³„:</strong> "ì¼ê¸° í˜ì´ì§€ ì—´ê¸°" ë²„íŠ¼ì„ ëˆŒëŸ¬ í™•ì¸í•˜ì„¸ìš”!
      `;
      
      updateCurrentCount();
      
      console.log(`âœ… ${count}ê°œì˜ ì¼ê¸°ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!`);
      console.log(`ğŸ“„ ì˜ˆìƒ í˜ì´ì§€ ìˆ˜: ${expectedPages}í˜ì´ì§€`);
      
      return diaries;
    }

    function clearDiaries() {
      if (confirm('ëª¨ë“  ì¼ê¸° ë°ì´í„°ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        localStorage.removeItem('diaries');
        const resultDiv = document.getElementById('result');
        resultDiv.className = 'result show';
        resultDiv.style.background = '#ffebee';
        resultDiv.style.borderLeft = '4px solid #f44336';
        resultDiv.innerHTML = '<strong>ğŸ—‘ï¸ ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.</strong>';
        updateCurrentCount();
      }
    }

    function checkCurrentState() {
      const diaries = JSON.parse(localStorage.getItem('diaries') || '[]');
      const count = diaries.length;
      const expectedPages = count > 0 ? Math.ceil(count / 12) : 0;
      
      // ê°ì •ë³„ í†µê³„
      const stats = {};
      diaries.forEach(diary => {
        stats[diary.emotion] = (stats[diary.emotion] || 0) + 1;
      });
      
      const resultDiv = document.getElementById('result');
      resultDiv.className = 'result show';
      resultDiv.style.background = '#e3f2fd';
      resultDiv.style.borderLeft = '4px solid #2196F3';
      resultDiv.innerHTML = `
        <strong>ğŸ“Š í˜„ì¬ ìƒíƒœ</strong><br>
        â€¢ ì´ ì¼ê¸° ìˆ˜: ${count}ê°œ<br>
        â€¢ ì˜ˆìƒ í˜ì´ì§€: ${expectedPages}í˜ì´ì§€<br>
        â€¢ ê°ì •ë³„ í†µê³„: ${JSON.stringify(stats, null, 2)}<br>
      `;
    }

    function openDiariesPage() {
      window.open('/diaries', '_blank');
    }

    function updateCurrentCount() {
      const diaries = JSON.parse(localStorage.getItem('diaries') || '[]');
      const count = diaries.length;
      const expectedPages = count > 0 ? Math.ceil(count / 12) : 0;
      document.getElementById('currentCount').textContent = 
        `í˜„ì¬ ì €ì¥ëœ ì¼ê¸°: ${count}ê°œ (${expectedPages}í˜ì´ì§€ ì˜ˆìƒ)`;
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ í˜„ì¬ ê°œìˆ˜ í‘œì‹œ
    updateCurrentCount();
  </script>
</body>
</html>

